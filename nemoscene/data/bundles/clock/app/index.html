<!DOCTYPE html>
<html lang="en">
    <head></head>
    <body onload="clock()">
    <div style="width: 100%; height: 100%;" id="clock_text"></div>
    </body>
    <script src="http://localhost:1337/bundle/silvertree/lib/lib.js"></script>
    <script src="http://localhost:1337/bundle/clock/lib/fittext.js"></script>
<script>
    Silvertree.initFramework("clock");

    let showSeconds = Silvertree.getConfigurationValue("clock", "show_seconds");
    let fontWeight = Silvertree.getConfigurationValue("clock", "font_weight");

    function clock() {
        window.fitText(document.getElementById('clock_text', 2));
        const today = new Date();
        let h = today.getHours();
        let m = today.getMinutes();
        let s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        let time = h + ":" + m;
        if (showSeconds) time += ":" + s;
        document.getElementById('clock_text').innerHTML = time;

        document.getElementById('clock_text').style.fontWeight = fontWeight;
        setTimeout(clock, 1000);
    }

    function checkTime(i) {
        if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
        return i;
    }

</script>
</html>